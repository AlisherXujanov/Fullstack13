{% extends 'base.html' %}
{% load static %}

{% block title %}
  My messages
{% endblock %}

{% block css %}

{% endblock %}

{% block content %}
  <main class="messages-page-wrapper">
    <div class="left-sidebar-wrapper">
      <div class="my-profile">
        <div class="info">
          <img src="{{ request.user.profile.image.url }}" />
          <h2 class="fullname">
            {% if request.user.first_name and request.user.last_name %}
              {{ request.user.first_name }} {{ request.user.last_name }}
            {% else %}
              {{ request.user.username }}
            {% endif %}
          </h2>
        </div>
        <div class="searchbox">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search" viewBox="0 0 16 16">
            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0" />
          </svg>
          <input type="search" placeholder="Search here ..." />
        </div>
      </div>
      <div class="other-profiles">
        {% comment %}TODO: SHOW ALL USERS{% endcomment %}
      </div>
    </div>
    <div class="middle-content-wrapper">
      <div class="companion-profile-info">
        <div class="content">
          <img src="{{ target_user.profile.image.url }}" alt="" />
          <h2 class="target-user-fullname">
            {% if target_user.first_name and target_user.last_name %}
              {{ target_user.first_name }} {{ target_user.last_name }}
            {% else %}
              {{ target_user.username }}
            {% endif %}
            <span class="is-online">
                {% comment %} 
                    TODO:
                        implement if he is online or not
                    RU: реализовать проверку онлайн ли пользователь
                {% endcomment %}
            </span>
          </h2>
        </div>
      </div>
      <div class="messages-content">
        {% comment %} 
            TODO:
                IMPLEMENT AJAX call to load all messages between the two users
            RU: Реализовать AJAX запрос для загрузки всех сообщений между двумя пользователями
        {% endcomment %}

        {% comment %} 
            {% for message in messages %}
                <span class="my-message"></span>
                <span class="companion-message"></span>
            {% endfor %}
        {% endcomment %}
      </div>
      <div class="form-content">
        <form action="">
            {% comment %} TODO {% endcomment %}
        </form>
      </div>
    </div>
    <div class="right-profile-wrapper">

    </div>
  </main>
{% endblock %}
